## 7.1 API 요청

### 1. fetch로 API 요청하기

fetch로 API를 요청할 때 동일한 코드를 복붙하여 사용하면 백앤드의 기능 변경으로 API URL을 변경해야 할 때, timeout 설정이나 header 변경 등 추가 요구를 대응하기 위해 계속해서 코드를 수정해야 하는 번거로움이 있다.

### 2. 서비스 레이어로 분리하기

이를 방지하기 위해 비동기 호출 코드를 서비스 레이어에서 처리 할 수 있다.

fetch 함수를 호출하는 부분을 서비스 레이어로 이동 시키고 컴포넌트는 서비스 레이어의 비동기 함수를 호출하고 결과를 받아 렌더링 한다.

다만, fetch 함수를 분리하는 것만으로는 API 요청 정책 변경에 대응하기 어렵다.

### 3. Axios 활용하기

Axios를 사용하면 많은 기능을 별도로 개발하지 않고 활용 할 수 있다.

각 서버가 담당하는 부분이 달라 API Entry가 2개 이상일 때는 각각의 apiRequester를 사용하면 된다.
axios.create를 이용하여 baseURL을 각각 정의하여 사용 할 수 있다.

### 4. Axios 인터셉터 사용하기

각각의 requester별로 다른 헤더를 설정해야 한다면 인터셉터 기능을 사용하여 비동기 호출 내용을 추가 할 수 있다.

설정 옵션을 정의하는 setRequestDefaultHeader 함수를 만들고 apiRequester.interceptors.request.use를 이용해 적용한다.

apiRequester.interceptors.response.use를 이용하여 response를 받아 httpError를 처리하는 핸들러를 추가 할 수 있다.

APIBuilder 같은 클래스 형태로 구성할 수도 있다. API 클래스로 호출 부분을 구성하고 API를 호출하기 위한 래퍼를 빌더 패턴으로 만든다. 이 경우 보일러플레이트 코드가 많다는 단점은 있지만 옵션이 다양한 경우 인터셉터를 설정값에 따라 적용하고 필요 없는 인터넷터를 선택적으로 사용할 수 있다.

### 5. API 응답 타입 지정하기

## 7.2 API 상태 관리하기

## 7.3 API 에러 핸들링

## 7.4 API 모킹
