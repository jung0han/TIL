## 9.1 리액트 훅

리액트 훅이 추가 되기 이전에는 클래스 컴포넌트에서만 상태를 가질 수 있었고 componentDidMount, componeneDidUpdate와 같이 하나의 생명주기 함수에서만 상태 업데이트에 따른 로직을 실행 할 수 있었다.

이 경우 프로젝트 규모가 커지면서 상태를 스토어에 연결하거나 비슷한 로직을 가진 상태 업데이트, 사이드 이펙트 처리가 불편해졌다.

그리고 모든 상태를 하나의 함수 내에서 처리하므로 관심사가 뒤섞이고 테스트나 디버깅이 어려워졌다.

리액트 훅이 도입되면서 함수 컴포넌트에서도 컴포넌트의 생명주기에 맞춰 로직을 실행 할 수 있게 되었고 이에 따라 비즈니스 로직을 재사용하거나 코드를 분할하여 테스트 하는 것이 용이해졌다.

### 1. useState

useState는 튜플을 반환하며 첫 번째 요소는 제네릭으로 지정한 S 타입이고 두 번째 요소는 상태를 업데이트 할 수 있는 Dispatch 타입의 함수이다. Dispatch 함수의 제네릭으로 지정한 SetStateAction에는 상태 타입 S 또는 (prevState: S) => S가 들어갈 수 있다.

타입스크립트를 활용하면 새로운 값을 대입하거나 추가할 때 잘못된 속성이 포함된 객체가 추가될 경우 컴파일 타임에 타입 에러를 확인 할 수 있다.

### 2. 의존성 배열을 사용하는 훅

useEffect의 첫 번째 인자인 EffectCallback은 Destructor를 반환하거나 아무것도 반환하지 않는 함수로 경쟁 상태를 일으킬 수 있으므로 비동기 함수는 들어갈 수 없다.

두 번째 인자인 deps는 옵셔널하게 제공되며 deps 배열의 원소가 변경되면 effect가 실행된다. 다만 deps에 객체나 배열은 얕은 비교로 판단하므로 실제 사용하는 값을 사용해야 한다.

Destructor는 deps가 비어 있을 때는 컴포넌트가 마운트 해제될 때에만 실행되고 deps 배열이 존재하면 배열의 값이 변경될 때마다 실행된다.

useLayoutEffect는 레이아웃 배치와 화면 렌더링이 모두 완료된 후에 실행된다.

### 3. useRef

## 9.2 커스텀 훅

### 1. 나만의 훅 만들기

### 2. 타입스크립트로 커스텀 훅 강화하기